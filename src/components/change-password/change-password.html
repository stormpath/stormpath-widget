<div class="sp-change-password-component">
  <div class="sp-title">Reset password</div>

  <div class="sp-message" rv-show="state | is 'verifying'">
    <p>We are verifying this link...</p>
  </div>

  <div class="sp-message sp-error-message" rv-show="state | is 'invalid_token'">
    <p>
      Unable to change your password. This can be because the link you tried to use has expired.
    </p>
    <p>
      <button rv-on-click="showForgotPassword">Try again</button>
    </p>
  </div>

  <div class="sp-message" rv-show="state | is 'verified'">
    <p>Almost done! Choose a new password to use from now on.</p>
  </div>

  <div class="sp-message" rv-show="state | is 'changed'">
    <p>Your password has been changed.</p>
    <p><button rv-on-click="showLogin">Continue To Login</button></p>
  </div>

  <form rv-show="state | in 'verified,sending,validation_error,request_error'" rv-class="state | prefix 'sp-form-'">
    <sp-form-fields fields="fields" name-prefix="'change-password-field'"></sp-form-fields>
    <div class="sp-error" rv-show="state | is 'validation_error'">{error.message}</div>
    <button rv-on-click="onFormSubmit" rv-disabled="state | is 'sending'">Change Password</button>
  </form>
</div>
