<div class="sp-forgot-password-component">
  <div class="sp-title">Reset password</div>

  <div rv-show="state | in 'ready,validation_error'">
    <p>
      Forgot your password? We'll send you a link to create a new one.
    </p>
  </div>

  <div rv-show="state | is 'sent'">
    <p>
      <span class="sp-icon-success"></span>
      <span class="sp-text-success">Email Sent</span>
    </p>
    <p>Please check your email. We've sent a<br>link to change your password to <span rv-each-field="fields">{field.value}</span>.</p>
  </div>

  <div rv-show="state | is 'expired'">
    <p>
      <span class="sp-icon-warning"></span>
      <span class="sp-text-warning">Expired Link</span>
    </p>
    <p>This link expired for your security. Enter your email address, and we'll send you a new link to change your password.</p>
  </div>

  <div rv-show="state | is 'loading_error'" class="sp-message">Error: {error.message}</div>

  <form rv-show="state | isnt 'sent' | state is 'expired' | state is 'validation_error'" rv-class="state | prefix 'sp-form-'">
    <div rv-each-field="fields">
      <label rv-for="field.name | prefix 'forgot-password-field-'">{field.label}</label>
      <input rv-id="field.name | prefix 'forgot-password-field-'"
             rv-type="field.type"
             rv-name="field.name"
             rv-value="field.value"
             rv-placeholder="field.placeholder"
             rv-required="field.required"
             rv-disabled="state | is 'sending'"/>
    </div>
    <div class="sp-validation-error" rv-show="state | is 'validation_error'"><span class="sp-warning-icon"></span> {error.message}</div>
    <button rv-on-click="onFormSubmit" rv-disabled="state | is 'sending'">Send reset link</button>
  </form>
</div>
